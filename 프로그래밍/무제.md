1. ### Day 1-2: ê°œë°œ í™˜ê²½ êµ¬ì¶• ë° JSX ì†Œê°œ

   ### ğŸ’» ì†”ë£¨ì…˜ ë° í•´ì„¤

   **1. Viteì™€ TypeScriptë¡œ í”„ë¡œì íŠ¸ ì´ˆê¸°í™”í•˜ê¸°**

   ```bash
   # Vite í”„ë¡œì íŠ¸ ìƒì„±
   npm create vite@latest my-react-clone -- --template vanilla-ts
   cd my-react-clone
   npm install
   ```

   **2. í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜**

   ```bash
   npm install --save-dev vite-tsconfig-paths
   ```

   **3. Vite ì„¤ì • íŒŒì¼ ì‘ì„± (`vite.config.ts`)**

   ```tsx
   // vite.config.ts
   import { defineConfig } from 'vite';
   import tsconfigPaths from 'vite-tsconfig-paths';
   
   export default defineConfig({
     plugins: [
       tsconfigPaths(),
     ],
     esbuild: {
       jsx: 'transform',
       jsxDev: false,
       jsxImportSource: '@/libs/jsx',
       jsxInject: `import { createElement } from '@/libs/jsx/jsx-runtime'`,
       jsxFactory: 'createElement',
     },
   });
   ```

   - ì„¤ëª…:
     - https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html
     - `esbuild` ì˜µì…˜ì—ì„œ `jsx`ë¥¼ `'transform'`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ JSXë¥¼ íŠ¸ëœìŠ¤íŒŒì¼ë§í•©ë‹ˆë‹¤.
     - `jsxImportSource`ë¥¼ ì„¤ì •í•˜ì—¬ ì‚¬ìš©ì ì •ì˜ JSX ëŸ°íƒ€ì„ì„ ì§€ì •í•©ë‹ˆë‹¤.
     - `jsxInject`ë¥¼ í†µí•´ ëª¨ë“  JSX íŒŒì¼ì— ìë™ìœ¼ë¡œ `import { jsx } from '@/libs/jsx/jsx-runtime'`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
     - `jsxFactory`ë¥¼ `'jsx.createElement'`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ JSXê°€ `jsx.createElement` í•¨ìˆ˜ë¡œ ë³€í™˜ë˜ë„ë¡ í•©ë‹ˆë‹¤.

   ------

   ### ğŸ’¡ í•´ì„¤

   - **Babel ì„¤ì •ì—ì„œ `runtime: 'automatic'`ê³¼ `importSource`ë¥¼ ì‚¬ìš©í•˜ì—¬**, Babelì´ JSXë¥¼ íŠ¸ëœìŠ¤íŒŒì¼í•  ë•Œ í•„ìš”í•œ í•¨ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ì„í¬íŠ¸í•˜ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
   - `createElement` í•¨ìˆ˜ëŠ” `src/createElement.js`ì— êµ¬í˜„í•˜ê³ , `src/jsx-runtime.js`ì—ì„œ ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ `jsx`, `jsxs` í•¨ìˆ˜ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.
   - ì´ë¡œì¨ ê° JSX íŒŒì¼ì—ì„œ `createElement` í•¨ìˆ˜ë¥¼ ì „ì—­ìœ¼ë¡œ ë“±ë¡í•˜ê±°ë‚˜, ëª…ì‹œì ìœ¼ë¡œ ì„í¬íŠ¸í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

   ------

   ### Day 3-4: `createElement` í•¨ìˆ˜ êµ¬í˜„ê³¼ Virtual DOM ìƒì„±

   ### ğŸ’» ì†”ë£¨ì…˜ ë° í•´ì„¤

   **1. `createElement` í•¨ìˆ˜ êµ¬í˜„**

   ```jsx
   // src/libs/jsx/jsx-runtime.ts
   import { DefaultProps, VirtualDOM, VirtualNode, Component } from '../vtu/types';
   
   export const createElement = (
     component: keyof HTMLElementTagNameMap | Component,
     props: Record<string, unknown> | null,
     ...children: (VirtualDOM | VirtualNode)[]
   ): JSX.Element => {
     if (typeof component === 'function') {
       return component({ ...props, children })
     }
    
     return {
       node: {
         tag: component,
         props,
         children: children.flat().map((child) => {
           // ì¼ë°˜ì ì¸ í…ìŠ¤íŠ¸ë¼ë©´
           if (!checkIsVirtualNode(child as VirtualDOM | VirtualNode)) {
             return { node: child } as VirtualDOM
           }
           return child
         }) as VirtualDOM[],
       },
     }
   }
   
   export const jsx = { createElement }
   
   const checkIsVirtualNode = (
     obj: VirtualDOM | VirtualNode,
   ): obj is VirtualDOM => {
     if (Array.isArray(obj)) {
       return false
     }
     if (typeof obj === 'object' && obj != null && 'node' in obj) {
       return true
     }
   
     return false
   }
   ```

   - `createElement` í•¨ìˆ˜ëŠ” JSXë¥¼ ìš°ë¦¬ê°€ ì •ì˜í•œ VDOM í˜•íƒœë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
   - ì»´í¬ë„ŒíŠ¸ê°€ í•¨ìˆ˜ì¸ ê²½ìš° í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
   - ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ VDOM ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
   - `children`ì€ ì¬ê·€ì ìœ¼ë¡œ í‰íƒ„í™”í•˜ì—¬ VDOM ë°°ì—´ë¡œ ë§Œë“­ë‹ˆë‹¤.

   **2. ê°„ë‹¨í•œ JSX ì‘ì„± ë° íŠ¸ëœìŠ¤íŒŒì¼ ê²°ê³¼ í™•ì¸**

   ```jsx
   // src/App.jsx
   function App() {
     return (
       <div id="app">
         <h1>Hello, React</h1>
       </div>
     );
   }
   
   export default App;
   ```

   **íŠ¸ëœìŠ¤íŒŒì¼ëœ ê²°ê³¼**

   ```jsx
   import { jsx as _jsx } from './jsx-runtime.js';
   
   function App() {
     return _jsx('div', { id: 'app', children: _jsx('h1', { children: 'Hello, React Clone!' }) });
   }
   
   export default App;
   ```

   **3. Virtual DOM ê°ì²´ í™•ì¸**

   ```jsx
   // src/main.js
   import App from './App.jsx';
   
   const appElement = App();
   
   console.log(JSON.stringify(appElement, null, 2));
   ```

   **ì½˜ì†” ì¶œë ¥ ê²°ê³¼**

   ```json
   {
     "type": "div",
     "props": {
       "id": "app",
       "children": {
         "type": "h1",
         "props": {
           "children": "Hello, React Clone!"
         }
       }
     }
   }
   ```

   ------

   ### ğŸ’¡ í•´ì„¤

   - `createElement` í•¨ìˆ˜ëŠ” JSXì—ì„œ ë³€í™˜ëœ í•¨ìˆ˜ í˜¸ì¶œì„ í†µí•´ Virtual DOM ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
   - ìƒì„±ëœ Virtual DOMì€ ì¬ê·€ì ì¸ ê°ì²´ êµ¬ì¡°ë¡œ, ì‹¤ì œ DOM êµ¬ì¡°ë¥¼ ë°˜ì˜í•©ë‹ˆë‹¤.

   ------

   ### Day 5: ê°„ë‹¨í•œ ì»´í¬ë„ŒíŠ¸ ì‘ì„± ë° ì‹¤ìŠµ

   ### ğŸ’» ì†”ë£¨ì…˜ ë° í•´ì„¤

   **1. ìì‹ ì»´í¬ë„ŒíŠ¸ ì‘ì„±**

   ```jsx
   // src/Header.jsx
   function Header() {
     return (
       <header>
         <h1>My React Clone</h1>
       </header>
     );
   }
   
   export default Header;
   // src/Content.jsx
   function Content() {
     return (
       <main>
         <p>This is a sample content.</p>
       </main>
     );
   }
   
   export default Content;
   ```

   **2. `App` ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©**

   ```jsx
   // src/App.jsx
   import Header from './Header.jsx';
   import Content from './Content.jsx';
   
   function App() {
     return (
       <div id="app">
         <Header />
         <Content />
       </div>
     );
   }
   
   export default App;
   ```

   **3. íŠ¸ëœìŠ¤íŒŒì¼ëœ ê²°ê³¼**

   ```jsx
   import { jsx as _jsx, jsxs as _jsxs } from './jsx-runtime.js';
   import Header from './Header.jsx';
   import Content from './Content.jsx';
   
   function App() {
     return _jsxs('div', {
       id: 'app',
       children: [_jsx(Header, {}), _jsx(Content, {})],
     });
   }
   
   export default App;
   ```

   **4. Virtual DOM ê°ì²´ í™•ì¸**

   ```jsx
   // src/main.js
   import App from './App.jsx';
   
   const appElement = App();
   
   console.log(JSON.stringify(appElement, null, 2));
   ```

   **ì½˜ì†” ì¶œë ¥ ê²°ê³¼**

   ```json
   {
     "type": "div",
     "props": {
       "id": "app",
       "children": [
         {
           "type": [Function: Header],
           "props": {}
         },
         {
           "type": [Function: Content],
           "props": {}
         }
       ]
     }
   }
   ```

   ------

   ### ğŸ’¡ í•´ì„¤

   - ì»´í¬ë„ŒíŠ¸ëŠ” í•¨ìˆ˜ë¡œ ì •ì˜ë˜ë©°, ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
   - Virtual DOMì—ì„œ `type`ì´ í•¨ìˆ˜ì¸ ê²½ìš°, í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê·¸ ê²°ê³¼ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
   - ì‹¤ì œ ë Œë”ë§ ì‹œì—ëŠ” ì´ëŸ¬í•œ ì¬ê·€ì ì¸ í˜¸ì¶œì„ í†µí•´ ìµœì¢…ì ì¸ DOM êµ¬ì¡°ë¥¼ ë§Œë“­ë‹ˆë‹¤.

- Viteì™€ Babelì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œ í™˜ê²½ì„ ì–´ë–»ê²Œ êµ¬ì¶•í•˜ì…¨ë‚˜ìš”?

  - Viteë¥¼ ì„ íƒí•œ ì´ìœ ì™€ ê·¸ ì¥ì ì€ ë¬´ì—‡ì¸ê°€ìš”?

    **Webpack** â†” **Vite**ëŠ” **ë¹ ë¥¸ ê°œë°œ ì„œë²„**ì™€ **íš¨ìœ¨ì ì¸ ë²ˆë“¤ë§**ì„ ì œê³µí•˜ëŠ” ë„êµ¬ë¡œ, íŠ¹íˆ ëª¨ë“ˆ í•« ë¦¬ë¡œë”©(HMR)ì´ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤:

    - **ES ëª¨ë“ˆ ê¸°ë°˜ ë¹Œë“œ**: ViteëŠ” ìµœì‹  ë¸Œë¼ìš°ì €ì˜ ES ëª¨ë“ˆ ì§€ì›ì„ í™œìš©í•˜ì—¬ ë¹ ë¥´ê²Œ íŒŒì¼ì„ ì œê³µ.
    - **ë¹ ë¥¸ ìŠ¤íƒ€íŠ¸ì—… ì‹œê°„**: Webpackê³¼ ë¹„êµí•˜ì—¬ ì´ˆê¸° ë²ˆë“¤ë§ ì‹œê°„ì´ í›¨ì”¬ ì§§ìŒ.
    - **í”ŒëŸ¬ê·¸ì¸ ì—ì½”ì‹œìŠ¤í…œ**: Rollup ê¸°ë°˜ìœ¼ë¡œ í™•ì¥ì„±ì´ ë›°ì–´ë‚¨.

- JSXë€ ë¬´ì—‡ì´ë©°, ì™œ Reactì—ì„œ ì‚¬ìš©í•˜ëŠ”ì§€ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

  - ì˜ê²¬

    **JSXë€ ë¬´ì—‡ì¸ê°€ìš”?**

    JSX(JavaScript XML)ëŠ” **JavaScriptì˜ í™•ì¥ ë¬¸ë²•**ìœ¼ë¡œ, UIë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. HTMLê³¼ ìœ ì‚¬í•œ ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆì–´ ì§ê´€ì ì´ê³  ê°€ë…ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

    **Reactì—ì„œ ì‚¬ìš©í•˜ëŠ” ì´ìœ **

    - **ê°€ë…ì„± í–¥ìƒ**: UI êµ¬ì¡°ë¥¼ í•œëˆˆì— ì´í•´ ê°€ëŠ¥.
    - **ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ê°œë°œ**: HTML-like ì½”ë“œë¥¼ JavaScriptì—ì„œ ì§ì ‘ ì‘ì„± ê°€ëŠ¥.
    - **Virtual DOMê³¼ì˜ í†µí•©**: JSXëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Reactì˜ createElement í•¨ìˆ˜ë¡œ ë³€í™˜ë˜ì–´ Virtual DOM ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

  - JSXëŠ” ì–´ë–»ê²Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¡œ ë³€í™˜ë˜ë‚˜ìš”?

    JSXëŠ” Babelê³¼ ê°™ì€ íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ë¥¼ í†µí•´ **Reactì˜** createElement **í•¨ìˆ˜ í˜¸ì¶œ**ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.

- í”„ë¡œì íŠ¸ì—ì„œ Babelì„ ì–´ë–»ê²Œ ì„¤ì •í•˜ì—¬ JSXë¥¼ íŠ¸ëœìŠ¤íŒŒì¼ë§í–ˆë‚˜ìš”? Babelì´ë€ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?

  - Babelì´ë€?
    - Babelì€ **JavaScript íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬**ë¡œ, ìµœì‹  JavaScript ì½”ë“œë¥¼ ì˜¤ë˜ëœ ë¸Œë¼ìš°ì €ì—ì„œë„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ íŠ¸ëœìŠ¤íŒŒì¼ë§í•©ë‹ˆë‹¤.
  - ì„¤ì •í•˜ì‹  ì˜µì…˜ë“¤ì˜ ì—­í• ì€ ë¬´ì—‡ì¸ê°€ìš”?
    - jsx ë¬¸ë²•ì„ js ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ì—­í• 

- `createElement` í•¨ìˆ˜ëŠ” ì–´ë–»ê²Œ êµ¬í˜„í•˜ì…¨ë‚˜ìš”?

  ```jsx
  function createElement(type, props, ...children) {
    return {
      type,
      props: {
        ...props,
        children: children.map(child =>
          typeof child === "object" ? child : { type: "TEXT_ELEMENT", props: { nodeValue: child, children: [] } }
        )
      }
    };
  }
  ```

- Virtual DOMì´ë€ ë¬´ì—‡ì´ë©°, ì‹¤ì œ DOMê³¼ì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€ìš”?

  - Virtual DOMì€ **ë©”ëª¨ë¦¬ ë‚´ì—ì„œ ê°€ìƒìœ¼ë¡œ ìƒì„±ë˜ëŠ” DOM ê°ì²´ íŠ¸ë¦¬**ì…ë‹ˆë‹¤. UI ìƒíƒœë¥¼ ì¶”ì í•˜ê³  ì—…ë°ì´íŠ¸ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
  - **Virtual DOM**: ë©”ëª¨ë¦¬ì—ì„œ ë™ì‘í•˜ë©°, ì—…ë°ì´íŠ¸ ì‹œ ë¹ ë¥¸ ë¹„êµ(diffing) í›„ ì‹¤ì œ DOMì— ìµœì†Œí•œì˜ ë³€ê²½ì„ ì ìš©. â†’ React Batching, useStateì˜ setStateë¥¼ ì´ìš©í•´ì„œ ìƒíƒœë¥¼ ë³€ê²½í•  ë•Œ í•œë²ˆì— ëª¨ì•„ì„œ ì—…ë°ì´íŠ¸ í•˜ëŠ” ê²ƒ
  - **ì‹¤ì œ DOM**: ë¸Œë¼ìš°ì €ê°€ ë Œë”ë§í•˜ëŠ” ì‹¤ì œ UI êµ¬ì¡°. DOM ì—…ë°ì´íŠ¸ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼.
  - ë¸Œë¼ìš°ì € ë Œë”ë§
    - ë ˆì´ì•„ì›ƒ â†’ í˜ì¸íŒ…
    - **reflow** â†’ **repaint**

- JSX ì½”ë“œê°€ ì–´ë–»ê²Œ Virtual DOM ê°ì²´ë¡œ ë³€í™˜ë˜ëŠ”ì§€ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

- Virtual DOMê³¼ ì‹¤ì œ DOMì˜ ì°¨ì´ì ì„ ì„¤ëª…í•´ ì£¼ì„¸ìš”. í”„ë ˆì„ì›Œí¬ì—ì„œ Virtual DOMì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

  - **ì„±ëŠ¥ ìµœì í™”**: ì „ì²´ DOM ì—…ë°ì´íŠ¸ ëŒ€ì‹  í•„ìš”í•œ ë¶€ë¶„ë§Œ ë³€ê²½.
  - **ì¶”ìƒí™”**: ê°œë°œìëŠ” DOM ì¡°ì‘ ëŒ€ì‹  Reactì˜ ì„ ì–¸ì  UIë¥¼ ì‘ì„±.

