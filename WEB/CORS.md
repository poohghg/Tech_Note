외부 도메인의 자원을 안전하게 활용하기 위한 CORS 정책과 적용방법
### 동작 원리

- 용어 정리: 출처 , 교차 출처 요청
	- 프로토콜, 도메인, 포트가 같으면 출처가 같다.
	- 오리진: 프로토콜을 가르키는 스킴 + 도메인 + 포트
	- 브라우저는 실행중인 어플리케이션의 출처와 다른 출처의 자원을 요청하면 차단한다.
		- 동일 출처 정책(Same-Origin Policy, SOP)
		- 보안상의 이유로 브라우저가 제공하는 기능이다.
- 해결: 서버가 허용할 출처를 명시한다.
	-  Server Response에 `Access-Control-Allow-Origin` 헤더를 사용한다.
	- `*`: 모든 출처 허용
	- `https://example.com`: 특정 출처 허용`
	- 브라우저는 서버의 응답을 확인하고, 허용된 출처의 요청를 허용한다.
	- 클라이언트 서버간 통신은 정상적으로 이루어진다.
- 단순 요청
	- GET, POST, HEAD 메소드만 사용 가능
	- 요청 헤더의  `origin` 필드에 요청 출처를 담아 보낸다.
	- 서버는 `Access-Control-Allow-Origin` 헤더에 허용할 출처를 담아 응답한다.
	- 안전한 헤더를 사용해야 한다.
	- 안전하지 않은 헤더를 사용하려면 서버에서 `Access-Control-Allow-Headers` 헤더를 사용해 허용해야 한다.
- 사전 요청
	- PUT, DELETE, PATCH 메소드를 사용할 때
	- 프리플라이트 요청
	    - `OPTIONS` 메소드로 사전 요청을 보낸다.
	    - 클라이언트는 `Access-Control-Request-Method` 헤더에 실제 요청할 메소드를 담아 보낸다.
	    - 서버는 `Access-Control-Allow-Methods` 헤더에 허용할 메소드를 담아 응답한다.
	    - 브라우저는 사전 요청에 대한 응답을 확인하고, 실제 요청을 보낸다.
	- 서버가 해당 요청을 승인해주는 가정 하에 브라우저가 사전 요청을 생략 할 수 도 있다.
		- 브라우저가 요청해서 얻은 응답값을 캐시하고 이를 사용하는 것이다.
		- 서버에서 응답을 캐시할 수 있도록 `Access-Control-Max-Age` 헤더를 사용한다.
- CORS를 사용하는 요청
	- 자격 증명 요청
    - 쿠키, 인증 헤더, TLS 클라이언트 인증서 등
    - 요청에 `withCredentials` 속성을 `true`로 설정한다.
    - 서버는 `Access-Control-Allow-Credentials` 헤더를 `true`로 설정한다.
    - `Access-Control-Allow-Origin` 헤더에 `*`를 사용할 수 없다.
